
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Project 1 – Matching Donations Study</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: auto;
      padding: 2em;
      line-height: 1.6;
    }
    h1, h2, h3 {
      color: #2c3e50;
    }
    code, pre {
      background-color: #f4f4f4;
      padding: 0.5em;
      display: block;
      overflow-x: auto;
    }
  </style>
</head>
<body>
<p>
---
title: "Replication of Karlan & List (2007)"
author: "Ouwen Jia"
format: html
jupyter: python3
---</p><p><h2>Introduction</h2></p><p>This project replicates the core results from <em>Karlan & List (2007)</em>, which examines whether and how matching donations affect charitable giving. The authors conducted a field experiment by sending over 50,000 fundraising letters and testing the effect of different matching grant offers on donation behavior. The analysis focuses on the donation response rate and amount across various treatment arms, especially on whether higher match ratios (e.g., 3:1) lead to higher giving compared to a simple 1:1 match.</p><p><h2>Data</h2></p><p>We use the original dataset provided by the authors, which contains 50,083 observations and includes variables indicating treatment assignment, match ratio, donation amount, and several demographic or contextual indicators.</p><p>```{python echo=False}
import pandas as pd</p><p><h1>Load data</h1>
df = pd.read_stata("karlan_list_2007.dta")</p><p><h1>Basic structure</h1>
df[["treatment", "gave", "amount", "ratio", "size", "ask"]].describe(include="all")
```</p><p><h2>Exploratory Analysis</h2></p><p>Before diving into regression modeling, we first visualize key metrics to understand how treatment and match ratio influence donation behaviors.</p><p><h3>Donation Response Rate: Control vs Treatment</h3></p><p>```{python echo=False}
import matplotlib.pyplot as plt</p><p><h1>Calculate response rate</h1>
grouped = df.groupby("treatment").agg(response_rate=("gave", "mean")).reset_index()</p><p><h1>Plot</h1>
plt.bar(["Control", "Treatment"], grouped["response_rate"], color=["#1f77b4", "#ff7f0e"])
plt.ylabel("Donation Response Rate")
plt.title("Response Rate by Treatment Group")
plt.show()
```</p><p><h3>Donation Rate by Match Ratio (1:1, 2:1, 3:1)</h3></p><p>```{python echo=False}
import seaborn as sns</p><p><h1>Filter only treated and group by ratio</h1>
ratio_stats = df[df['treatment'] == 1].groupby("ratio").agg(response_rate=("gave", "mean")).reset_index()</p><p>sns.barplot(data=ratio_stats, x="ratio", y="response_rate", palette="pastel")
plt.ylabel("Response Rate")
plt.title("Donation Rate by Match Ratio")
plt.show()
```</p><p><h2>Regression Results</h2></p><p>Next, we use a logistic regression model to formally estimate the effect of treatment status and match ratio on the probability of donating.</p><p>```{python echo=False}
import statsmodels.api as sm
import statsmodels.formula.api as smf</p><p><h1>Logistic regression</h1>
model = smf.logit("gave ~ treatment + ratio2 + ratio3", data=df).fit()
```</p><p>```{python echo=False}
<h1>Format results for better display</h1>
summary_df = model.summary2().tables[1]
print(summary_df.round(3).to_markdown())
```</p><p><h2>Conclusion</h2></p><p>Our replication confirms that matching offers significantly increase donation rates. However, consistent with the original study, we find that increasing the match ratio beyond 1:1 (e.g., to 2:1 or 3:1) does <strong>not</strong> lead to significantly higher response rates or donation amounts. This suggests diminishing marginal returns to the match ratio — an important insight for fundraisers seeking to maximize impact.
</p>
</body>
</html>
